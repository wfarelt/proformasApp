<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; font-size: 11px;}
        h2 { text-align: center; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 5px; text-align: center; }
        th { background-color: #f2f2f2; }

        .tr-datos td { border: 0; }

        .sin-borde { border: 0; }

        .td-derecha { 
            text-align: right; 
        }
        .td-izquierda { 
            text-align: left; 
        }
        .h3-derecha { 
            text-align: right; 
        }

    </style>
</head>
<body>

    <table>
        <tr>
            <td class="sin-borde">
                <h2 style="text-align: left;">Proforma #{{ proforma.id }}</h2>
            </td>
            <td class="sin-borde td-derecha">
                {% if logo_url %}
                    <img src="{{ logo_url }}" alt="Logo" style="width: 150px; height: 100px;">
                {% else %}
                    <p>No Logo Available</p>
                {% endif %}
            </td>
        </tr>
    </table>
    
    

    <table>
        <tr class="tr-datos">
            <td class="td-izquierda">
                <strong>Cliente: </strong>{{ proforma.cliente }} <br>
                <strong>Nit: </strong>{{ proforma.cliente.nit }}
            </td>
            <td class="td-derecha">
                <strong>Fecha: </strong>{{ proforma.fecha|date:"d/m/Y" }} <br>
                <strong>Vendedor: </strong>{{ proforma.usuario.name }}
            </td>
        </tr>
    </table>
    <br>
    <table class="t-detalle">
        <thead>
            <tr>
                <th>#</th>
                <th>Código</th>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio($)</th>
                <th>Subtotal($)</th>
            </tr>
        </thead>
        <tbody>
            {% for detalle in detalles %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td class="td-izquierda">{{ detalle.producto.nombre }}</td>
                <td class="td-izquierda">{{ detalle.producto.descripcion }}</td>
                <td>{{ detalle.cantidad }}</td>
                <td class="td-derecha">{{ detalle.precio_venta }}</td>
                <td class="td-derecha">{{ detalle.subtotal }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <table>
        <tr class="tr-datos">
            <td class="td-izquierda">
                {{ total_literal }}
            </td>
            <td class="td-derecha">
                <h3>
                    <strong>Total: $ </strong>{{ proforma.total }}
                </h3>
            </td>
        </tr>
    </table>

    <h3 class="h3-derecha">Bs.- {{ total_bs|floatformat:2 }}</h3>
    
    <br>
    <table>
        <tr>
            <td class="td-izquierda">
                <strong>Observaciones: </strong>{{ proforma.observaciones }}
            </td>
        </tr>
    </table>
    <br>
    <br>
    <br>
    <!-- Añadir Recibido por: Nombre y Firma -->
    <table>
        <td class="sin-borde center">________________________<br>
            Recibido Por<br><br>Nombre: ________________<br><br>
            CI    : ________________<br>
        </td>
    </table>

</body>

</html